/**
 * @license
 * Copyright 2019 Ludan Stoeckl√©
 * SPDX-License-Identifier: Apache-2.0
 */
import { GenderNumberManager } from './GenderNumberManager';
import { RandomManager } from './RandomManager';
import { SaveRollbackManager } from './SaveRollbackManager';
import { ValueManager } from './ValueManager';
import { SpyI } from './Spy';
import { Genders, Numbers } from './NlgLib';
export type RepresentantType = 'ref' | 'refexpr';
type Key = any;
export type TriggeredRefs = Map<Key, boolean>;
export type NextRefs = Map<Key, NextRef>;
export interface NextRef {
    valueForDebug: string;
    REPRESENTANT: RepresentantType;
    gender: Genders | undefined;
    number: Numbers | undefined;
    rndNextPos: number;
}
export type RefExprMixinFct = (elt: any, extraParams?: any) => void;
export interface ObjWithRefs {
    ref: RefExprMixinFct;
    refexpr?: RefExprMixinFct;
}
export declare class RefsManager {
    private triggeredRefs;
    private nextRefs;
    private saveRollbackManager;
    private genderNumberManager;
    private randomManager;
    private valueManager;
    private spy;
    constructor(saveRollbackManager: SaveRollbackManager, genderNumberManager: GenderNumberManager, randomManager: RandomManager);
    setValueManager(valueManager: ValueManager): void;
    setSpy(spy: SpyI): void;
    protected getSpy(): SpyI;
    getNextRefs(): NextRefs;
    setNextRefs(nextRefs: NextRefs): void;
    getTriggeredRefs(): TriggeredRefs;
    setTriggeredRefs(triggeredRefs: TriggeredRefs): void;
    getNextRef(obj: ObjWithRefs): NextRef | undefined;
    private setNextRef;
    getNextRep(obj: ObjWithRefs, params: any): NextRef;
    private getKey;
    resetRep(obj: ObjWithRefs): void;
    hasTriggeredRef(obj: ObjWithRefs): boolean;
    setTriggeredRef(obj: ObjWithRefs): void;
    deleteNextRef(obj: ObjWithRefs): void;
}
export {};
